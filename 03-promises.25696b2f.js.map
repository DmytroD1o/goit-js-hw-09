{"mappings":"YACA,IAAMA,EAAaC,SAASC,cAAc,QAM1C,SAASC,EAAcC,EAAMC,EAAUC,GACrCF,EAAMG,iBAEN,IAAMC,EAASR,EAAWS,SAASD,OAAOE,MAC7BV,EAAWS,SAASE,KAAKD,MACjBV,EAAWS,SAASH,MAAMI,MAgC/C,OA7BgB,IAAIE,SAAQ,SAACC,EAASC,GAGlC,IAFF,IAAMC,EAAgBC,KAAKC,SAAW,GAE1BC,EAAI,EAAGA,EAAIV,EAAQU,GAAG,GAKlC,IAAMC,EAAM,CACVd,SAAUA,EACVC,SAGEc,EAAaC,YAAW,WACd,IAAXb,GAAgBH,IAAaG,GAC9Bc,cAAcF,GAIZL,EACFF,EAASM,GAETL,EAAQK,E,GAGTb,E,IArCLN,EAAWuB,iBAAiB,SAAUpB,GA8CtCA,EAAcqB,KACbC,MAAK,SAAAC,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MACjBqB,QAAQC,IAAI,uBAAwCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,M,IAE3DwB,OAAM,SAAAJ,G,IAAGrB,EAAQqB,EAARrB,SAAUC,EAAKoB,EAALpB,MAClBqB,QAAQC,IAAI,sBAAqCC,OAAfxB,EAAS,QAAYwB,OAANvB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst formSubmit = document.querySelector('form');\n\nformSubmit.addEventListener('submit', createPromise)\n\n\n\nfunction createPromise(event,position, delay) {\n  event.preventDefault();\n\n  const amount = formSubmit.elements.amount.value;\n  const step = formSubmit.elements.step.value;\n  const currentDelay = formSubmit.elements.delay.value;\n\n\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n      for ( let i = 0; i < amount; i+=1) {\n    const position = i;\n    const delay = currentDelay + position * step; \n  }\n\n    const obj = {\n      position: position,\n      delay,\n    }\n    \n  const intervalId = setTimeout(() => {\n    if(amount === 0 || position === amount) {\n      clearInterval(intervalId)\n    }\n\n\n    if (shouldResolve) {\n      resolve (obj)\n    } else {\n      reject (obj)\n    }\n  \n  }, delay);\n\n  });\n\n  return promise;\n\n}\n\n  \ncreatePromise(obj)\n.then(({ position, delay }) => {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n})\n.catch(({ position, delay }) => {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n});\n\n"],"names":["$ce04d3a99e08e73b$var$formSubmit","document","querySelector","$ce04d3a99e08e73b$var$createPromise","event","position","delay","preventDefault","amount","elements","value","step","Promise","resolve","reject","shouldResolve","Math","random","i","_$obj","intervalId","setTimeout","clearInterval","addEventListener","obj","then","param","console","log","concat","catch"],"version":3,"file":"03-promises.25696b2f.js.map"}