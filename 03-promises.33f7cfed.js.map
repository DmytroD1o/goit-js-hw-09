{"mappings":"AACA,MAAMA,EAAaC,SAASC,cAAc,QAM1C,SAASC,EAAcC,EAAMC,EAAUC,GACrCF,EAAMG,iBAEN,MAAMC,EAASR,EAAWS,SAASD,OAAOE,MAC7BV,EAAWS,SAASE,KAAKD,MACjBV,EAAWS,SAASH,MAAMI,MAgC/C,OA7BgB,IAAIE,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEpC,IAAM,IAAIC,EAAI,EAAGA,EAAIV,EAAQU,GAAG,EAAG,C,CAKrC,MAAMC,EAAM,CACVC,SAAUf,E,MACVC,GAGEe,EAAaC,YAAW,KACd,IAAXd,GAAgBH,IAAaG,GAC9Be,cAAcF,GAIZN,EACFF,EAASM,GAETL,EAAQK,EAAI,GAGbb,EAAM,G,CArCXN,EAAWwB,iBAAiB,SAAUrB,GA8CtCA,EAAcgB,KACbM,MAAK,EAACL,SAAEA,EAAQd,MAAEA,MACjBoB,QAAQC,IAAI,uBAAqBP,QAAiBd,MAAU,IAE7DsB,OAAM,EAACR,SAAEA,EAAQd,MAAEA,MAClBoB,QAAQC,IAAI,sBAAoBP,QAAed,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst formSubmit = document.querySelector('form');\n\nformSubmit.addEventListener('submit', createPromise)\n\n\n\nfunction createPromise(event,position, delay) {\n  event.preventDefault();\n\n  const amount = formSubmit.elements.amount.value;\n  const step = formSubmit.elements.step.value;\n  const currentDelay = formSubmit.elements.delay.value;\n\n\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n      for ( let i = 0; i < amount; i+=1) {\n    const position = i;\n    const delay = currentDelay + position * step; \n  }\n\n    const obj = {\n      position: position,\n      delay,\n    }\n    \n  const intervalId = setTimeout(() => {\n    if(amount === 0 || position === amount) {\n      clearInterval(intervalId)\n    }\n\n\n    if (shouldResolve) {\n      resolve (obj)\n    } else {\n      reject (obj)\n    }\n  \n  }, delay);\n\n  });\n\n  return promise;\n\n}\n\n  \ncreatePromise(obj)\n.then(({ position, delay }) => {\n  console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n})\n.catch(({ position, delay }) => {\n  console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n});\n\n"],"names":["$47d4ff9957288465$var$formSubmit","document","querySelector","$47d4ff9957288465$var$createPromise","event","position1","delay","preventDefault","amount","elements","value","step","Promise","resolve","reject","shouldResolve","Math","random","i","obj","position","intervalId","setTimeout","clearInterval","addEventListener","then","console","log","catch"],"version":3,"file":"03-promises.33f7cfed.js.map"}